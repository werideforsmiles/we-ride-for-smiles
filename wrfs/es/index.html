<!DOCTYPE html>
<html lang="es" class="dark-mode">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>We Ride For Smiles | Desafío Ciclista Benéfico Londres-Barcelona 2026</title>
    <meta name="description" content="Junio de 2026. Participa en un desafío ciclista de 1500 km de Londres a Barcelona. Únete a nuestra misión para transformar cada pedalada en esperanza para los niños enfermos.">
    <link rel="canonical" href="https://www.werideforsmiles.org/es/index.html" />

    <meta name="author" content="Ben Morin, bemorin.com">
    <meta name="copyright" content="© 2025 We Ride For Smiles. Sitio creado por Ben Morin.">

    <!--
        Sitio creado por Ben Morin, bemorin.com. Todos los derechos reservados.
        El sitio We Ride For Smiles y su contenido están protegidos por derechos de autor.
        Cualquier reproducción parcial o total está prohibida sin autorización.
    -->

    <meta property="og:title" content="We Ride For Smiles | Desafío Ciclista Benéfico Londres-Barcelona 2026" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.werideforsmiles.org/es/index.html" />
    <meta property="og:image" content="https://www.werideforsmiles.org/assets/hero-background.webp" />
    <meta property="og:description" content="Participa en un desafío de 1500 km para apoyar a los niños enfermos. Cada pedalada cuenta." />
    <meta property="og:site_name" content="We Ride For Smiles" />
    <meta property="og:locale" content="es_ES" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="We Ride For Smiles | Desafío Ciclista Benéfico Londres-Barcelona 2026">
    <meta name="twitter:description" content="Participa en un desafío de 1500 km para apoyar a los niños enfermos. Cada pedalada cuenta.">
    <meta name="twitter:image" content="https://www.werideforsmiles.org/assets/hero-background.webp">

    <link rel="icon" href="../assets/wrfs_favicon.webp" type="image/png">
    <link rel="alternate" hreflang="fr" href="https://www.werideforsmiles.org/fr/index.html" />
    <link rel="alternate" hreflang="en" href="https://www.werideforsmiles.org/en/index.html" />
    <link rel="alternate" hreflang="es" href="https://www.werideforsmiles.org/es/index.html" />
    <link rel="alternate" hreflang="x-default" href="https://www.werideforsmiles.org/es/index.html" />

    <link rel="stylesheet" href="../css/fa-min.css">
    
    <style>
        /* === WE RIDE FOR SMILES - VERSION CORRIGÉE ET AMÉLIORÉE === */

        /* --- 1. FONDATIONS & THÈMES --- */
        /* inter-regular - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: normal;
          font-weight: 400;
          src: url('../fonts/inter-v19-latin-regular.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-italic - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: italic;
          font-weight: 400;
          src: url('../fonts/inter-v19-latin-italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-500 - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: normal;
          font-weight: 500;
          src: url('../fonts/inter-v19-latin-500.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-500italic - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: italic;
          font-weight: 500;
          src: url('../fonts/inter-v19-latin-500italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-700 - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: normal;
          font-weight: 700;
          src: url('../fonts/inter-v19-latin-700.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-700italic - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: italic;
          font-weight: 700;
          src: url('../fonts/inter-v19-latin-700italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-800 - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: normal;
          font-weight: 800;
          src: url('../fonts/inter-v19-latin-800.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-800italic - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: italic;
          font-weight: 800;
          src: url('../fonts/inter-v19-latin-800italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-900 - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: normal;
          font-weight: 900;
          src: url('../fonts/inter-v19-latin-900.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        /* inter-900italic - latin */
        @font-face {
          font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
          font-family: 'Inter';
          font-style: italic;
          font-weight: 900;
          src: url('../fonts/inter-v19-latin-900italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
        }
        :root {
          --font-sans: 'Inter', sans-serif;
          --color-background: #0A0A0A; --color-surface: #191919; --color-text-primary: #FAFAFA;
          --color-text-secondary: #999999; --color-primary: #FFA500; --color-primary-dark: #E59400;
          --color-border: #333333; --section-padding: 7rem 0; --container-width: 1280px;
        }
        html.light-mode {
          --color-background: #F5F5F5; --color-surface: #FFFFFF; --color-text-primary: #191919;
          --color-text-secondary: #555555; --color-border: #DDDDDD;
        }
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body { background-color: var(--color-background); color: var(--color-text-primary); font-family: var(--font-sans); -webkit-font-smoothing: antialiased; overflow-x: hidden; transition: background-color 0.4s ease, color 0.4s ease; }
        body.mobile-nav-open { overflow: hidden; }
        body.modal-open { overflow: hidden; }
        .container { max-width: var(--container-width); margin: 0 auto; padding: 0 1.5rem; }
        h1, h2, h3 { text-wrap: balance; }
        p, .lead { text-wrap: pretty; }
        a { color: var(--color-primary); text-decoration: none; transition: color 0.3s ease; }
        a:hover { color: var(--color-primary-dark); }
        a.btn, a.navbar-brand, .charity-logo, .nav-link { text-decoration: none !important; }
        .fa, .fas, .fab, .fa-solid { font-style: normal; }

        /* --- 2. LAYOUT & ANIMATIONS --- */
        .preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--color-background); z-index: 9999; display: flex; justify-content: center; align-items: center; transition: opacity 0.5s ease 0.2s, visibility 0.5s ease 0.2s; }
        .preloader.fade-out { opacity: 0; visibility: hidden; }
        .preloader-logo-container { font-family: var(--font-sans); font-weight: 900; font-size: clamp(1.5rem, 8vw, 4rem); color: var(--color-primary); display: flex; flex-wrap: wrap; justify-content: center; white-space: nowrap; transition: transform 0.8s cubic-bezier(0.86, 0, 0.07, 1); }
        .preloader .word { display: inline-flex; margin: 0 0.25em; transition: margin 1s cubic-bezier(0.86, 0, 0.07, 1); }
        .preloader .char { display: inline-block; overflow: hidden; }
        .preloader .lower { transition: max-width 1s cubic-bezier(0.86, 0, 0.07, 1), opacity 0.5s ease; max-width: 2em; opacity: 1; }
        .preloader.start-animation .lower { max-width: 0; opacity: 0; }
        .preloader.start-animation .word { margin: 0; }
        .preloader.start-animation .preloader-logo-container { transform: scale(1.1); }
        .preloader.disappear-up .preloader-logo-container { transform: translateY(-50px) scale(1.1); opacity: 0; }
        .fade-in-up { opacity: 0; transform: translateY(30px); transition: opacity 0.8s cubic-bezier(0.165, 0.84, 0.44, 1), transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1); }
        .fade-in-up.is-visible { opacity: 1; transform: translateY(0); }
        .delay-1 { transition-delay: 0.1s; } .delay-2 { transition-delay: 0.2s; } .delay-3 { transition-delay: 0.3s; }

        /* --- 3. NAVIGATION --- */
        .navbar { position: fixed; top: 0; left: 0; width: 100%; padding: 1.5rem 0; z-index: 1000; transition: background-color 0.3s ease; }
        .navbar.scrolled { background-color: rgba(10, 10, 10, 0.8); backdrop-filter: blur(10px); }
        html.light-mode .navbar.scrolled { background-color: rgba(255, 255, 255, 0.8); }
        .navbar-content { display: flex; justify-content: space-between; align-items: center; }
        .navbar-brand { font-weight: 900; font-size: 1.8rem; color: var(--color-text-primary); z-index: 1001; }
        .nav-menu { display: flex; align-items: center; gap: 1.5rem; }
        .nav-links-desktop { display: none; }
        .nav-link { color: var(--color-text-primary); font-weight: 500; margin: 0 1rem; }
        .nav-link-button { background: none; border: none; font-family: inherit; font-size: inherit; color: var(--color-text-primary); font-weight: 500; cursor: pointer; padding: 0; margin: 0 1rem; transition: color 0.3s ease; }
        .nav-link-button:hover { color: var(--color-primary-dark); }
        .nav-controls { display: flex; align-items: center; gap: 1.5rem; z-index: 1001; }
        /* --- AJOUTS POUR LA NAVIGATION MOBILE --- */
        .btn-mobile-involved {
            display: none !important;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        @media (min-width: 992px) {
            .btn-mobile-involved {
                display: none !important;
            }
        }

        @media (max-width: 991px) {
            .nav-links-desktop .btn-desktop-involved {
                display: none !important;
            }
            .nav-controls {
                display: flex;
                align-items: center;
                gap: 1.5rem;
                transition: width 0.3s ease;
            }
            .nav-controls.scrolled-mobile {
                transition: width 0.3s ease;
            }
            .nav-controls.scrolled-mobile .lang-switcher,
            .nav-controls.scrolled-mobile .theme-switch {
                display: none;
                transform: translateY(-20px);
                transition: display 0.3s ease, transform 0.3s ease;
            }
            .nav-controls.scrolled-mobile .btn-mobile-involved {
                display: inline-block !important;
                opacity: 1;
                transform: translateY(0);
                left: auto;
                animation: fadeIn 0.3s ease forwards;
            }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .lang-switcher { position: relative; }
        .lang-switcher .selected-lang { color: var(--color-text-secondary); font-weight: 700; cursor: pointer; }
        .lang-switcher .lang-dropdown { position: absolute; top: 100%; left: 50%; background-color: var(--color-surface); border: 1px solid var(--color-border); border-radius: 8px; padding: 0.5rem; margin-top: 0.5rem; list-style: none; opacity: 0; visibility: hidden; transform: translateX(-50%) translateY(10px); transition: all 0.3s ease; }
        .lang-switcher:hover .lang-dropdown { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
        .lang-switcher .lang-dropdown a { display: block; padding: 0.5rem 1rem; color: var(--color-text-primary); }
        .lang-switcher .lang-dropdown a:hover { color: var(--color-primary); }
        .theme-switch { background: none; border: none; color: var(--color-text-primary); font-size: 1.2rem; cursor: pointer; line-height: 0; }
        .theme-switch svg { width: 24px; height: 24px; transition: transform 0.4s ease; }
        .nav-toggle { display: none; background: none; border: none; color: var(--color-text-primary); font-size: 1.5rem; cursor: pointer; z-index: 1001; }

        /* --- 3B. MENU MOBILE --- */
        .nav-mobile-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--color-background); z-index: 1002; display: flex; flex-direction: column; padding: 1.5rem; transform: translateY(-100%); visibility: hidden; transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 0.4s; }
        .nav-mobile-overlay.is-active { transform: translateY(0); visibility: visible; transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); }
        .nav-mobile-header { display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 4rem; }
        .nav-mobile-close { background: none; border: none; color: var(--color-text-primary); font-size: 2rem; cursor: pointer; }
        .nav-mobile-links { display: flex; flex-direction: column; align-items: center; justify-content: center; flex-grow: 1; }
        .nav-mobile-overlay .nav-link, .nav-mobile-overlay .nav-link-button { font-size: 2rem; margin: 1rem 0; opacity: 0; transform: translateY(20px); transition: opacity 0.4s ease, transform 0.4s ease; }
        .nav-mobile-overlay.is-active .nav-mobile-links > * { opacity: 1; transform: translateY(0); }
        .nav-mobile-overlay.is-active .nav-mobile-links > *:nth-child(1) { transition-delay: 0.2s; }
        .nav-mobile-overlay.is-active .nav-mobile-links > *:nth-child(2) { transition-delay: 0.25s; }
        .nav-mobile-overlay.is-active .nav-mobile-links > *:nth-child(3) { transition-delay: 0.3s; }
        .nav-mobile-overlay.is-active .nav-mobile-links > *:nth-child(4) { transition-delay: 0.35s; }
        .nav-mobile-overlay.is-active .nav-mobile-links > *:nth-child(5) { transition-delay: 0.4s; }
        .nav-mobile-overlay.is-active .nav-mobile-links > *:nth-child(6) { transition-delay: 0.45s; }
        .nav-mobile-overlay .btn { margin-top: 2rem; opacity: 0; transform: translateY(20px); transition: opacity 0.4s ease 0.5s, transform 0.4s ease 0.5s; }
        .nav-mobile-overlay.is-active .btn { opacity: 1; transform: translateY(0); }
        
        /* --- 4. HÉROS --- */
        .hero { min-height: 100vh; padding-top: 120px; display: flex; align-items: center; position: relative; overflow: hidden; background-color: var(--color-background); }
        .hero::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1; background: linear-gradient(to right, var(--color-background) 30%, transparent 70%), url('../assets/hero-background-dark.webp') no-repeat bottom right; background-size: cover; animation: kenburns 30s ease-out infinite; }
        html.light-mode .hero::before { background: linear-gradient(to right, var(--color-background) 30%, transparent 70%), url('../assets/hero-background-light.webp') no-repeat bottom right; background-size: cover; }
        @keyframes kenburns { 0% { background-position: 80% 100%; } 50% { background-position: 100% 100%; } 100% { background-position: 80% 100%; } }
        .hero-content { position: relative; z-index: 2; }
        h1 { font-size: clamp(2rem, min(7vw, 10vh), 5rem); font-weight: 900; letter-spacing: -0.04em; line-height: clamp(2rem, min(7vw, 10vh), 5rem); }
        .hero-content .lead { font-size: 1.2rem; max-width: 580px; margin: 1.5rem 0 2.5rem 0; color: var(--color-text-secondary); }
        @media (max-width: 767px) {
            .hero-content .lead { font-size: 0.9rem; }
        }
        @media (max-width: 992px) {
            .hero { padding-top: 100px; }
        }
        @media (max-width: 1200px) {
            .hero { align-items: start; }
        }
        html.light-mode .hero-content .lead { color: var(--color-text-primary); opacity: 0.9; }
        .countdown-timer { display: flex; gap: 1.5rem; margin-top: 2.5rem;margin-bottom: 2.5rem; }
        .timer-item { text-align: center; }
        .timer-value { font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 900; color: var(--color-primary); line-height: 1; }
        .timer-label { font-size: 0.9rem; color: var(--color-text-secondary); text-transform: uppercase; letter-spacing: 1px; }
        .btn { display: inline-block; padding: 0.75rem 1.5rem; border-radius: 50px; font-weight: 700; font-size: 1.1rem; text-align: center; transition: all 0.3s ease; border: none; cursor: pointer; position: relative; }
        @media (max-width: 767px) {
            .btn { font-size: 1rem; }
        }
        .btn:hover { transform: scale(1.05); }
        .btn-primary { background: var(--color-primary); color: #0A0A0A; }
        .btn-primary:hover { background: var(--color-primary-dark); }
        .btn-secondary { background-color: transparent; color: var(--color-text-primary); box-shadow: inset 0 0 0 2px var(--color-text-primary); }
        .btn-secondary:hover { background-color: var(--color-text-primary); color: var(--color-background); }
        .cta-buttons { display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; }
        .cta-buttons .btn { margin: 0; }

        /* --- 5. SECTIONS --- */
        .section { padding: var(--section-padding); }
        .section-surface { background-color: var(--color-surface); }
        .section h2 { max-width: 800px; margin: 0 auto 3rem auto; text-align: center; font-size: clamp(1.8rem, 5vw, 3.5rem); }
        #mission.section h2 { margin-bottom: 0; }
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; max-width: 800px; margin: 4rem auto 0 auto; text-align: center; }
        .stat-item .stat-number { font-size: clamp(3.5rem, 10vw, 6rem); font-weight: 900; color: var(--color-primary); line-height: 1; }
        .stat-item .stat-label { color: var(--color-text-secondary); font-weight: 500; margin-top: 0.5rem; }
        
        /* --- 6. CAUSES --- */
        .charity-grid { display: grid; grid-template-columns: 1fr; gap: 2rem; margin-top: 4rem; }
        .charity-category { background-color: #FFF; padding: 2.5rem; border-radius: 12px; }
        .charity-category h3 { color: var(--color-primary); margin-bottom: 2rem; font-weight: 700; border-bottom: 1px solid #DDDDDD; padding-bottom: 1rem; }
        .charity-logo { display: flex; align-items: center; justify-content: center; gap: 1.5rem; padding: 1rem; margin: 0 -1rem 1rem -1rem; border-radius: 8px; transition: background-color 0.3s ease; }
        .charity-logo:hover { background-color: rgba(128, 128, 128, 0.1); }
        .charity-logo img { max-height: 50px; width: auto }
        .charity-logo span { font-weight: 500; font-size: 1.1rem; color: #000; }

        /* --- 7. VALEURS --- */
        .values-container { position: relative; min-height: 400vh; }
        .values-sticky { position: sticky; top: 0; height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        .value-step { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; text-align: center; opacity: 0; transform: scale(0.95); transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out; }
        .value-step.is-active { opacity: 1; transform: scale(1); }
        .value-content { max-width: 600px; padding: 1rem; }
        .value-content .value-title { font-size: clamp(4rem, 15vw, 10rem); line-height: 1; font-weight: 900; color: var(--color-primary); }
        .value-content .value-subtitle { font-size: 1.5rem; font-weight: 700; margin-top: 1rem; color: var(--color-text-primary); }
        .value-content p { font-size: 1.1rem; color: var(--color-text-secondary); margin-top: 1.5rem; }
        .value-next-btn { position: absolute; bottom: 2.5rem; left: 50%; background: var(--color-primary); color: #0A0A0A; border: none; border-radius: 50px; padding: 1rem 2rem; font-weight: 700; font-size: 1rem; cursor: pointer; opacity: 0; transform: translateX(-50%) translateY(20px); transition: opacity 0.4s ease, transform 0.4s ease; visibility: hidden; }
        .value-next-btn.is-visible { opacity: 1; transform: translateX(-50%) translateY(0); visibility: visible; }
        
        /* --- 8. ÉQUIPE --- */
        .team-grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; margin-top: 4rem; max-width: 1100px; margin-left: auto; margin-right: auto; }

        .team-member { position: relative; border-radius: 12px; overflow: hidden; cursor: pointer; aspect-ratio: 1 / 1.2; box-shadow: 0 10px 20px rgba(0,0,0,0.1); background-color: var(--color-background); flex: 0 1 340px; }
        .team-member img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        }
        .team-member:hover img { transform: scale(1.05); }
        .team-member-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 3rem 1.5rem 1.5rem 1.5rem;
            background: linear-gradient(to top, rgba(0,0,0,0.85) 20%, transparent);
            transition: opacity 0.4s ease;
        }
        .team-member-info { transform: translateY(10px); transition: transform 0.4s ease; }
        .team-member:hover .team-member-info { transform: translateY(0); }
        .team-member-info h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0 0 0.25rem 0;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }
        .team-member-info span {
            font-size: 1rem;
            color: var(--color-primary);
            font-weight: 500;
        }
        .team-modal-content { padding: 0 !important; max-width: 800px; }
        .team-modal-grid { display: grid; grid-template-columns: 1fr; }
        .team-modal-image {
            width: 100%;
            height: 250px;
            overflow: hidden;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        .team-modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 20%;
        }
        .team-modal-details { padding: 2.5rem; }
        .team-modal-details h3 {
            font-size: 2.2rem;
            font-weight: 800;
            margin: 0 0 0.25rem 0;
        }
        .team-modal-role {
            display: block;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-bottom: 1.5rem;
        }
        .team-modal-details p { color: var(--color-text-secondary); line-height: 1.7; margin-bottom: 1rem; }
        .team-modal-socials { margin-top: 2rem; display: flex; gap: 1.5rem; }
        .team-modal-socials a {
            color: var(--color-text-secondary);
            font-size: 1.8rem;
            transition: color 0.3s ease, transform 0.3s ease;
            position: relative;
        }
        .team-modal-socials a:hover { color: var(--color-primary); transform: translateY(-3px); }
        /* --- Styles pour la carte "Rejoindre l'équipe" --- */
        .team-member--join {
            background-color: transparent;
            border: 3px dashed var(--color-border);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: border-color 0.3s ease, background-color 0.3s ease, transform 0.3s ease;
        }

        .team-member--join:hover {
            border-color: var(--color-primary);
            background-color: rgba(255, 165, 0, 0.05);
            transform: translateY(-5px);
        }

        .join-card-content { transition: transform 0.3s ease; }

        .team-member--join:hover .join-card-content { transform: scale(1.05); }

        .join-card-content i {
            font-size: 3rem;
            color: var(--color-text-secondary);
            margin-bottom: 1.5rem;
            transition: color 0.3s ease;
        }

        .team-member--join:hover .join-card-content i { color: var(--color-primary); }

        .join-card-content h3 {
            font-size: 1.5rem;
            color: var(--color-text-primary);
            margin: 0 0 0.25rem 0;
        }

        .join-card-content span {
            color: var(--color-text-secondary);
            font-weight: 500;
        }

        /* Style de la bulle du tooltip (::after) */
        .team-modal-socials a::after {
            content: attr(aria-label); /* Récupère le texte de l'aria-label ! */
            position: absolute;
            bottom: 150%; /* Positionne le tooltip au-dessus de l'icône */
            left: 50%;
            transform: translateX(-50%);

            /* Apparence */
            background-color: var(--color-surface);
            color: var(--color-text-primary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap; /* Empêche le texte de passer à la ligne */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);

            /* État initial (caché) */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, transform 0.2s ease;
        }

        /* Style de la petite flèche du tooltip (::before) */
        .team-modal-socials a::before {
            content: '';
            position: absolute;
            bottom: 150%;
            left: 50%;
            transform: translateX(-50%) translateY(16px); /* Décale la flèche sous la bulle */

            /* Création du triangle avec les bordures */
            border: 8px solid transparent;
            border-top-color: var(--color-surface);

            /* État initial (caché) */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s ease, transform 0.2s ease;
        }

        /* --- Comportement au survol --- */

        /* Uniquement pour les appareils qui peuvent survoler (pas les mobiles) */
        @media (hover: hover) and (min-width: 768px) {
            .team-modal-socials a:hover::before,
            .team-modal-socials a:hover::after {
                opacity: 1;
                visibility: visible;
                bottom: 140%; /* Effet de "pop" vers le haut */
            }
        }

        /* --- 9. FAQ --- */
        .faq-container { max-width: 800px; margin: 4rem auto 0 auto; }
        .faq-item { background-color: var(--color-surface); border-radius: 8px; margin-bottom: 1rem; border: 1px solid var(--color-border); overflow: hidden; }
        .faq-question { padding: 1.75rem 4rem 1.75rem 1.75rem; font-weight: 700; font-size: 1.2rem; cursor: pointer; position: relative; background: none; border: none; width: 100%; text-align: left; color: var(--color-text-primary); transition: background-color 0.3s ease; }
        .faq-question:hover { background-color: rgba(255, 165, 0, 0.05); }
        .faq-question::after { content: '+'; position: absolute; right: 1.75rem; top: 50%; transform: translateY(-50%); font-size: 2rem; transition: transform 0.3s ease; color: var(--color-primary); }
        .faq-question.active::after { transform: translateY(-50%) rotate(45deg); }
        .faq-answer { overflow: hidden; transition: height 0.4s cubic-bezier(0.4, 0, 0.2, 1); height: 0; }
        .faq-answer-content { padding: 1.75rem; color: var(--color-text-secondary); line-height: 1.6; }
        .faq-answer-content p { margin-bottom: 0; }
        
        /* --- 10. MODALE --- */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 2000; display: flex; justify-content: center; align-items: center; opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s; }
        .modal-overlay.is-active { opacity: 1; visibility: visible; }
        .modal-content { background: var(--color-surface); border-radius: 12px; padding: 2.5rem; width: 90%; max-width: 850px; position: relative; transform: translateY(100%); transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); }
        #involve-modal .modal-content, .team-modal-content { max-height: 90vh; overflow-y: auto; }
        #involve-modal .modal-content::-webkit-scrollbar, .team-modal-content::-webkit-scrollbar { width: 8px; }
        #involve-modal .modal-content::-webkit-scrollbar-track, .team-modal-content::-webkit-scrollbar-track { background: var(--color-background); border-radius: 10px; }
        #involve-modal .modal-content::-webkit-scrollbar-thumb, .team-modal-content::-webkit-scrollbar-thumb { background-color: var(--color-border); border-radius: 10px; border: 2px solid var(--color-background); }
        #involve-modal .modal-content::-webkit-scrollbar-thumb:hover, .team-modal-content::-webkit-scrollbar-thumb:hover { background-color: var(--color-primary); }
        .modal-overlay.is-active .modal-content { transform: translateY(0); }
        .modal-close { position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: var(--color-text-secondary); font-size: 2rem; cursor: pointer; z-index: 10; }
        .modal-header { text-align: center; margin-bottom: 2.5rem; }
        .icon-header { color: var(--color-primary); font-size: 3rem; margin-bottom: 1rem; }
        .modal-content h3 { font-size: 1.8rem; font-weight: 800; margin-bottom: 0.5rem; }
        .modal-intro { color: var(--color-text-secondary); max-width: 500px; margin: 0 auto; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; font-weight: 500; margin-bottom: 0.5rem; }
        .form-group input[type="text"], .form-group input[type="email"] { width: 100%; padding: 0.8rem; background: var(--color-background); border: 1px solid var(--color-border); color: var(--color-text-primary); border-radius: 6px; }
        .form-group input::placeholder { color: var(--color-text-secondary); opacity: 0.7; }
        .form-row { display: flex; flex-direction: column; gap: 1.5rem; }
        @media (min-width: 576px) {
            .form-row { flex-direction: row; }
            .form-row .form-group { flex: 1; margin-bottom: 0; }
        }
        .involvement-options { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem; }
        .option-card { position: relative; }
        .option-card input[type="checkbox"] { position: absolute; opacity: 0; width: 100%; height: 100%; cursor: pointer; }
        .option-label { display: flex; flex-direction: column; align-items: center; text-align: center; padding: 1.5rem; border: 2px solid var(--color-border); border-radius: 12px; transition: all 0.3s ease; cursor: pointer; height: 100%; }
        .option-label i { font-size: 2rem; margin-bottom: 0; color: var(--color-primary); transition: transform 0.3s ease; }
        .option-label-header { display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 1rem; margin-bottom: 0.2rem; }
        .option-label strong { font-size: 1.1rem; color: var(--color-text-primary); }
        .option-label span { font-size: 0.9rem; color: var(--color-text-secondary); margin-top: 0.25rem; }
        .option-card:hover .option-label { border-color: var(--color-primary); transform: translateY(-5px); }
        .option-card:hover .option-label i { transform: scale(1.1); }
        .option-card input:checked + .option-label { border-color: var(--color-primary); background-color: rgba(255, 165, 0, 0.05); box-shadow: 0 0 15px rgba(255, 165, 0, 0.2); }
        @media (max-width: 576px) {
          .option-label-header { flex-direction: row; gap: 0.75rem; margin-bottom: 0.75rem; }
          .involvement-options { grid-template-columns: 1fr; }
        }
        .custom-checkbox-container { display: flex; justify-content: center; align-items: center; margin-top: 1.5rem; gap: 0.75rem; cursor: pointer; }
        .custom-checkbox-container input[type="checkbox"] { position: absolute; opacity: 0; }
        .custom-checkbox-container .checkbox-label { font-size: 0.9rem; color: var(--color-text-secondary); position: relative; padding-left: 30px; line-height: 22px; }
        .custom-checkbox-container .checkbox-label::before { content: ''; position: absolute; left: 0; top: 0; width: 22px; height: 22px; border: 2px solid var(--color-border); background-color: var(--color-background); border-radius: 6px; transition: all 0.2s ease; }
        .custom-checkbox-container .checkbox-label::after { content: ''; position: absolute; left: 8px; top: 4px; width: 5px; height: 10px; border: solid var(--color-background); border-width: 0 3px 3px 0; transform: rotate(45deg) scale(0); transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .custom-checkbox-container input:checked + .checkbox-label::before { background-color: var(--color-primary); border-color: var(--color-primary); }
        .custom-checkbox-container input:checked + .checkbox-label::after { transform: rotate(45deg) scale(1); }
        
        /* --- 10B. ANIMATION DE SOUMISSION DE FORMULAIRE --- */
        .btn-loader { width: 1.2em; height: 1.2em; border: 2px solid currentColor; border-right-color: transparent; border-radius: 50%; display: none; animation: spin 0.8s linear infinite; }
        .form-submit-btn.loading .btn-text { display: none; }
        .form-submit-btn.loading .btn-loader { display: inline-block; vertical-align: middle; }
        .form-submit-btn:disabled { cursor: not-allowed; opacity: 0.8; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* --- 11. FOOTER --- */
        footer { padding: 5rem 0 2rem 0; text-align: left; background-color: #101010; border-top: 1px solid var(--color-border); }
        html.light-mode footer { background-color: #e9ecef; }
        .footer-grid { display: grid; grid-template-columns: 1.5fr 1fr; gap: 4rem; margin-bottom: 4rem; }
        .footer-about h3 { font-size: 1.5rem; font-weight: 800; color: var(--color-text-primary); margin-bottom: 1rem; }
        .footer-about p { color: var(--color-text-secondary); max-width: 350px; }
        .footer-newsletter h4 { font-size: 1rem; font-weight: 700; color: var(--color-text-secondary); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 1rem; }
        .input-group { display: flex; border: 1px solid var(--color-border); border-radius: 50px; padding: 5px; background-color: var(--color-background); }
        .input-group input { flex-grow: 1; background: transparent; border: none; color: var(--color-text-primary); padding: 0.75rem 1.5rem; font-size: 1rem; }
        .input-group input:focus { outline: none; }
        .input-group button { flex-shrink: 0; }
        .footer-bottom { border-top: 1px solid var(--color-border); padding-top: 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
        .footer-bottom p { color: var(--color-text-secondary); font-size: 0.9rem; }
        .footer-copyright { color: var(--color-text-secondary); font-size: 0.9rem; margin: 0; }
        .footer-copyright a { color: var(--color-primary); text-decoration: none; transition: color 0.3s ease; }
        .footer-copyright a:hover { color: var(--color-primary-dark); }
        .footer-socials a { color: var(--color-text-secondary); font-size: 1.5rem; margin-left: 1.5rem; transition: color 0.3s ease; }
        .footer-socials a:hover { color: var(--color-text-primary); }

        /* --- 11B. WIDGET ASSOCIATIONS --- */
        .charity-slider-widget {
            position: absolute;
            bottom: 1.5rem;
            right: 1.5rem;
            width: 600px;
            max-width: calc(100% - 3rem);
            background-color: #FFF;
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 1.25rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            z-index: 999;
            opacity: 0;
            transform: translateY(20px);
            animation: slide-in-widget 0.5s ease 2.5s forwards;
            display: block;
            transition: width 0.4s ease, bottom 0.3s ease; 
        }
        .charity-slider-widget.scrolled { width: 320px; }
        @media (min-width: 992px) {
            .charity-slider-widget { position: fixed; }
            .charity-slider-widget .slider-content { height: 160px; }
            .charity-slider-widget .slide-item img { max-height: 100px; }
        }
        @keyframes slide-in-widget {
            to { opacity: 1; transform: translateY(0); }
        }
        .charity-slider-widget h4 {
            font-weight: 700;
            margin: 0 0 1rem 0;
            font-size: 0.9rem;
            color: var(--color-text-secondary);
            text-align: left;
        }
        .charity-slider-widget .slider-content {
            position: relative;
            height: 12vh; 
            transition: height 0.4s ease;
        }
        .charity-slider-widget.scrolled .slider-content {
            height: 4vh;
        }
        .charity-slider-widget .slide-item {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transform: translateX(10px);
            transition: opacity 0.6s ease, transform 0.6s ease, visibility 0s 0.6s;
        }
        .charity-slider-widget .slide-item.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
            transition: opacity 0.6s ease, transform 0.6s ease, visibility 0s;
        }
        .charity-slider-widget .slide-item img {
            max-height: 8vh;
            width: auto;
            transition: max-height 0.4s ease;
        }
        .charity-slider-widget.scrolled .slide-item img {
            max-height: 4vh;
        }
        .charity-slider-widget .slide-item span {
            font-weight: 500;
            color: var(--color-text-primary);
            font-size: 1.2rem;
            transition: font-size 0.4s ease;
        }
        .charity-slider-widget.scrolled .slide-item span {
            font-size: 1rem;
        }
        
        /* --- 11C. CONTRÔLES DU WIDGET ASSOCIATIONS --- */
        .widget-controls {
            position: absolute;
            top: 0.75rem;
            right: 1rem;
            display: flex;
            gap: 0.5rem;
            z-index: 1000;
        }

        .widget-controls button {
            background: none;
            border: none;
            color: var(--color-text-secondary);
            cursor: pointer;
            font-size: 1.2rem;
            padding: 0.25rem;
            line-height: 1;
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .widget-controls #widget-toggle-size {
            font-size: 0.9rem;
        }

        .widget-controls button:hover {
            color: var(--color-primary);
            transform: scale(1.1);
        }

        /* AJOUT : Classe pour cacher le widget lors de la fermeture */
        .charity-slider-widget.is-hidden {
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
        }
        
        /* AJOUT : Transition pour la fermeture en douceur */
        .charity-slider-widget {
            /* ... (vos styles existants) ... */
            transition: width 0.4s ease, bottom 0.3s ease, opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
        }
        
        /* --- 12. RESPONSIVE --- */
        @media (min-width: 992px) { .nav-links-desktop { display: flex; align-items: center; } }
        @media (max-width: 991px) { 
            .nav-toggle { display: block; }
            .hero::before { background: none !important; animation: none !important; }
        }
        @media (min-width: 768px) { 
            .stats-grid { grid-template-columns: repeat(4, 1fr); } 
            .charity-grid { grid-template-columns: 1fr 1fr; }
            .team-modal-grid { grid-template-columns: 280px 1fr; text-align: left; }
            .team-modal-image {
                height: auto;
                border-top-left-radius: 12px;
                border-bottom-left-radius: 12px;
                border-top-right-radius: 0;
            }
            .team-modal-content {
                max-height: 90vh; 
                overflow: hidden;
            }
            .team-modal-details {
                max-height: 90vh;
                overflow-y: auto;
            }
        }

        @media (max-width: 767px) { 
            .modal-content { padding: 2rem 1.5rem; }
            .footer-grid { grid-template-columns: 1fr; text-align: center; } 
            .footer-about p { margin: 0 auto; text-align: center; }
            .footer-bottom { justify-content: center; flex-direction: column; gap: 1.5rem; text-align: center; }
            .footer-copyright { display: flex; flex-direction: column; gap: 0.75rem; }
            .footer-socials a { margin: 0 0.75rem; }
            .value-next-btn { bottom: 1.5rem; padding: 0.8rem 1.5rem; font-size: 0.9rem; }
            #newsletter-modal .input-group {
                flex-direction: column;
                gap: 0.75rem;
                border: none;
                background-color: transparent;
                padding: 0;
            }
            #newsletter-modal .input-group input,
            #newsletter-modal .input-group button {
                width: 100%;
                border-radius: 50px !important;
            }
            #newsletter-modal .input-group input {
                border: 1px solid var(--color-border);
                padding: 1.2rem;
            }
        }
        @media (max-width: 480px) {
            .countdown-timer {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem 1.5rem;
            }
            .timer-item {
                flex-basis: calc(50% - 1rem);
            }
            .timer-value {
                font-size: clamp(2rem, 10vw, 2.5rem);
            }
            footer .input-group {
                flex-direction: column;
                gap: 0.75rem;
                border: none;
                background-color: transparent;
                padding: 0;
            }
            footer .input-group input,
            footer .input-group button {
                width: 100%;
                border-radius: 50px !important;
            }
            footer .input-group input {
                border: 1px solid var(--color-border);
                padding: 1.2rem;
            }
            .charity-logo {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
            .charity-logo img {
                margin-right: 0;
            }
        }
    </style>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "We Ride For Smiles",
      "url": "https://www.werideforsmiles.org/es/index.html",
      "logo": "https://www.werideforsmiles.org/assets/wrfs_favicon.webp",
      "description": "Un movimiento benéfico internacional que utiliza el poder del ciclismo para llevar esperanza a los niños enfermos y sus familias.",
      "sameAs": [
        "https://www.instagram.com/werideforsmiles/",
        "https://www.youtube.com/@werideforsmiles",
        "https://www.strava.com/clubs/werideforsmiles"
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SportsEvent",
      "name": "We Ride For Smiles: El Desafío Londres-Barcelona 2026",
      "startDate": "2026-06-15T09:00:00+02:00",
      "endDate": "2026-06-28",
      "description": "Un desafío ciclista benéfico de 1500 km desde Londres hasta Barcelona para apoyar a niños enfermos y sus familias.",
      "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
      "eventStatus": "https://schema.org/EventScheduled",
      "location": [
        {
          "@type": "Place",
          "name": "Salida: Londres, Reino Unido",
          "address": "Londres, UK"
        },
        {
          "@type": "Place",
          "name": "Llegada: Barcelona, España",
          "address": "Barcelona, ES"
        }
      ],
      "organizer": {
        "@type": "Organization",
        "name": "We Ride For Smiles",
        "url": "https://www.werideforsmiles.org/es/index.html"
      },
      "performer": {
          "@type": "Person",
          "name": "Ben Morin",
          "url": "https://www.werideforsmiles.org/es/index.html#team"
      },
      "image": [
        "https://www.werideforsmiles.org/assets/hero-background.webp",
        "https://www.werideforsmiles.org/assets/ben-morin.webp"
       ],
      "offers": {
        "@type": "Offer",
        "url": "https://www.werideforsmiles.org/es/index.html#involve-modal",
        "price": "0",
        "priceCurrency": "EUR",
        "availability": "https://schema.org/InStock",
        "validFrom": "2025-01-01",
        "description": "Participación basada en un compromiso de recaudación de fondos. Conviértete en voluntario o socio."
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "¿Cuáles son las diferentes formas de apoyar el proyecto?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Puedes apoyar a We Ride For Smiles participando en el desafío ciclista (recorrido completo o una etapa), convirtiéndote en voluntario, participando virtualmente, haciendo un donativo o convirtiéndote en socio corporativo."
          }
        },
        {
          "@type": "Question",
          "name": "¿Cómo funcionan los donativos y la recaudación de fondos?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Al hacer un donativo, puedes asignarlo a una de las asociaciones beneficiarias. Este mecanismo está diseñado para permitir que los donantes se beneficien de las ventajas fiscales vigentes en su país de residencia. Cada euro recaudado, después de deducir los gastos de funcionamiento, se transfiere íntegramente."
          }
        },
        {
          "@type": "Question",
          "name": "¿Existe un objetivo de recaudación de fondos para los participantes?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Sí, la participación en el desafío ciclista está sujeta a un compromiso de recaudar una cantidad mínima de fondos para garantizar un impacto financiero significativo para las asociaciones que apoyamos. Los detalles se proporcionan durante la inscripción."
          }
        }
      ]
    }
    </script>
</head>
<body class="dark-mode">
    <div class="preloader">
        <div class="preloader-logo-container">
            <span class="word w"><span class="char capital">W</span><span class="char lower">e</span></span>
            <span class="word r"><span class="char capital">R</span><span class="char lower">i</span><span class="char lower">d</span><span class="char lower">e</span></span>
            <span class="word f"><span class="char capital">F</span><span class="char lower">o</span><span class="char lower">r</span></span>
            <span class="word s"><span class="char capital">S</span><span class="char lower">m</span><span class="char lower">i</span><span class="char lower">l</span><span class="char lower">e</span><span class="char lower">s</span></span>
        </div>
    </div>

    <nav class="navbar" id="navbar">
        <div class="container navbar-content">
            <a href="index.html" class="navbar-brand">WRFS</a>
            <div class="nav-menu">
                <div class="nav-links-desktop">
                    <a href="#mission" class="nav-link">Misión</a>
                    <a href="route.html" class="nav-link">Recorrido</a>
                    <a href="#causes" class="nav-link">Causas</a>
                    <a href="#team" class="nav-link">El equipo</a>
                    <a href="#faq" class="nav-link">FAQ</a>
                    <button class="nav-link-button" data-modal-trigger="newsletter-modal">Newsletter</button>
                    <button class="btn btn-primary btn-desktop-involved" data-modal-trigger="involve-modal" style="margin-left: 1rem;">Participar</button>
                </div>
                <div class="nav-controls" id="nav-controls">
                    <button class="btn btn-primary btn-mobile-involved" data-modal-trigger="involve-modal">Participar</button>
                    <div class="lang-switcher">
                        <span class="selected-lang">ES</span>
                        <ul class="lang-dropdown">
                            <li><a href="../fr/index.html">FR</a></li>
                            <li><a href="../en/index.html">EN</a></li>
                        </ul>
                    </div>
                    <button class="theme-switch" id="theme-toggle" aria-label="Cambiar tema"></button>
                </div>
                <button class="nav-toggle" id="nav-toggle" aria-label="Abrir menú"><i class="fa-solid fa-bars"></i></button>
            </div>
        </div>
    </nav>
    
    <div class="nav-mobile-overlay" id="nav-mobile-overlay">
        <div class="nav-mobile-header">
            <a href="index.html" class="navbar-brand">WRFS</a>
            <button class="nav-mobile-close" id="nav-mobile-close" aria-label="Cerrar menú"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="nav-mobile-links">
            <a href="#mission" class="nav-link">Misión</a>
            <a href="route.html" class="nav-link">Recorrido</a>
            <a href="#causes" class="nav-link">Causas</a>
            <a href="#team" class="nav-link">El equipo</a>
            <a href="#faq" class="nav-link">FAQ</a>
            <button class="nav-link-button" data-modal-trigger="newsletter-modal">Newsletter</button>
            <button class="btn btn-primary" data-modal-trigger="involve-modal">Involúcrate</button>
        </div>
    </div>

    <header class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="fade-in-up">El desafío de una vida. Para cambiar vidas.</h1>
                <p class="lead fade-in-up delay-2">En junio de 2026, el objetivo será conectar Londres con Barcelona en bicicleta. 1500 km por una sola misión: pedalear por los niños enfermos. Cada pedalada será un desafío, cada donativo una victoria.</p>
                <div class="cta-buttons fade-in-up delay-3">
                    <button class="btn btn-primary" data-modal-trigger="involve-modal">Involúcrate</button>
                    <a href="route.html" class="btn btn-secondary">Ver el recorrido</a>
                </div>
                <div class="countdown-timer fade-in-up delay-2">
                    <div class="timer-item"><div id="days" class="timer-value">00</div><div class="timer-label">Días</div></div>
                    <div class="timer-item"><div id="hours" class="timer-value">00</div><div class="timer-label">Horas</div></div>
                    <div class="timer-item"><div id="minutes" class="timer-value">00</div><div class="timer-label">Minutos</div></div>
                    <div class="timer-item"><div id="seconds" class="timer-value">00</div><div class="timer-label">Segundos</div></div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <section class="section section-surface" id="mission"><div class="container"><h2 class="fade-in-up">Nuestra misión: brindar consuelo, esperanza y apoyo a los niños enfermos y a sus familias.</h2></div></section>
        
        <section class="section" id="causes">
            <div class="container">
                <h2 class="fade-in-up">En el corazón de nuestra iniciativa</h2>
                <p class="fade-in-up delay-1" style="max-width: 650px; margin: -2rem auto 4rem auto; text-align: center; color: var(--color-text-secondary);">Pedaleamos por organizaciones que cambian vidas: centros hospitalarios de excelencia y destacadas asociaciones nacionales.</p>
                <div class="charity-grid">
                    <div class="charity-category fade-in-up delay-2"><h3>Hospitales infantiles</h3><a href="https://www.gosh.org" target="_blank" class="charity-logo"><img loading="lazy" src="../assets/gosh-logo.svg" alt="GOSH"></a><a href="https://www.gustaveroussy.fr" target="_blank" class="charity-logo"><img loading="lazy" src="../assets/gustave-roussy-logo.webp" alt="Gustave Roussy"></a></div>
                    <div class="charity-category fade-in-up delay-3"><h3>Asociaciones benéficas</h3><a href="https://www.sourirealavie.fr" target="_blank" class="charity-logo"><img loading="lazy" src="../assets/sourirealavie-logo.svg" alt="Sourire à la Vie"></a><a href="https://www.teenagecancertrust.org" target="_blank" class="charity-logo"><img loading="lazy" src="../assets/tct-logo.svg" alt="Teenage Cancer Trust"></a></div>
                </div>
            </div>
        </section>

        <section class="section section-surface" id="stats">
            <div class="container">
                <h2 class="fade-in-up">El desafío 2026 en cifras</h2>
                <div class="stats-grid">
                    <div class="stat-item fade-in-up"><div class="stat-number" data-target="1500">0</div><div class="stat-label">Kilómetros</div></div>
                    <div class="stat-item fade-in-up delay-1"><div class="stat-number" data-target="14">0</div><div class="stat-label">Días</div></div>
                    <div class="stat-item fade-in-up delay-2"><div class="stat-number" data-target="4">0</div><div class="stat-label">Causas</div></div>
                    <div class="stat-item fade-in-up delay-3"><div class="stat-number" data-target="1">0</div><div class="stat-label">Misión</div></div>
                </div>
            </div>
        </section>

        <section class="values-container" id="valeurs">
            <div class="values-sticky">
                <div class="value-step"><div class="value-content"><div class="value-title">We</div><h3 class="value-subtitle">Reunir.</h3><p>Unir a ciclistas, voluntarios y simpatizantes para amplificar nuestro impacto.</p></div></div>
                <div class="value-step"><div class="value-content"><div class="value-title">Ride</div><h3 class="value-subtitle">Superarse.</h3><p>Transformar una pasión común en un movimiento de resiliencia.</p></div></div>
                <div class="value-step"><div class="value-content"><div class="value-title">For</div><h3 class="value-subtitle">Cuidar de todos.</h3><p>Cada kilómetro brinda un apoyo concreto a las familias que enfrentan la enfermedad.</p></div></div>
                <div class="value-step"><div class="value-content"><div class="value-title">Smiles</div><h3 class="value-subtitle">Difundir alegría y optimismo.</h3><p>Una sonrisa es un símbolo de esperanza, recordando que nunca están solos.</p></div></div>
                <button class="value-next-btn">Siguiente: <span></span></button>
            </div>
        </section>

        <section class="section section-surface" id="team">
            <div class="container">
                <h2 class="fade-in-up">Este proyecto te necesita</h2>
                <div class="fade-in-up delay-1" style="text-align: center; margin-bottom: 2rem;">
                  <img loading="lazy" src="../assets/wrfs-team.webp" alt="Fotografía realista generada por IA de ciclistas con maillots 'We Ride For Smiles'." style="border-radius: 15px; max-width: 100%; height: auto; display: block; margin: 0 auto;">
                </div>
                <p class="fade-in-up delay-2" style="max-width: 650px; margin: 0 auto; text-align: center; color: var(--color-text-secondary);">Yo inicié el movimiento, pero esto es solo la chispa.</p>
                <p class="fade-in-up delay-3" style="max-width: 650px; margin: 1rem auto 4rem auto; text-align: center; color: var(--color-text-secondary);">Para que la llama de la esperanza crezca, este desafío debe ser impulsado por un verdadero equipo. Ya sea sobre la bicicleta, al borde de la carretera o detrás de una pantalla, tu energía es esencial para hacer de esta aventura una victoria colectiva.</p>
                <div class="team-grid">
                    <div class="team-member fade-in-up delay-3" data-modal-trigger="team-modal-ben">
                        <img loading="lazy" src="../assets/ben-morin.webp" alt="Ben Morin, fundador de We Ride For Smiles y ciclista del desafío Londres-Barcelona">
                        <div class="team-member-overlay">
                            <div class="team-member-info">
                                <h3>Ben Morin</h3>
                                <span>Iniciador del proyecto</span>
                            </div>
                        </div>
                    </div>

                    <div class="team-member team-member--join fade-in-up delay-3" data-modal-trigger="involve-modal">
                        <div class="join-card-content">
                            <i class="fa-solid fa-plus"></i>
                            <h3>Únete a la aventura</h3>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="faq">
    <div class="container">
        <h2 class="fade-in-up">Preguntas frecuentes</h2>
        <div class="faq-container fade-in-up delay-1">

            <div class="faq-item">
                <button class="faq-question">¿Cuáles son las diferentes formas de apoyar el proyecto?</button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        <p>El éxito del evento depende de una variedad de contribuciones. Puedes apoyar a We Ride For Smiles de varias maneras:</p>
                        <br>
                        <ul>
                            <li><strong>Participando en el desafío ciclista:</strong> Ya sea en el recorrido completo o en una o varias etapas.</li>
                            <li><strong>Como voluntario:</strong> En el terreno para la logística o a distancia para tareas de comunicación, traducción u organización.</li>
                            <li><strong>Participando virtualmente:</strong> Pedaleando desde casa y participando en la recaudación de fondos en línea.</li>
                            <li><strong>Haciendo un donativo:</strong> Cada contribución financiera apoya directamente a nuestras asociaciones colaboradoras.</li>
                            <li><strong>Como socio corporativo:</strong> Asocia la imagen de tu empresa a nuestra causa para un impacto mutuamente beneficioso.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">¿Cómo funcionan los donativos y la recaudación de fondos?</button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        <p>La recaudación de fondos es el corazón de nuestra misión. Nuestra estructura internacional te permite apoyar la causa de manera específica:</p>
                        <br>
                        <p>Al hacer un donativo, tendrás la opción de asignarlo a una de las asociaciones beneficiarias con sede en diferentes países. Este mecanismo está diseñado para permitir que los donantes se beneficien de las ventajas fiscales vigentes en su país de residencia, sujeto a elegibilidad. Cada euro recaudado, después de deducir los gastos de funcionamiento, se transfiere íntegramente.</p>
                    </div>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">¿Existe un objetivo de recaudación de fondos para los participantes?</button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        <p>Para el desafío ciclista, no hay un importe mínimo ni máximo de fondos que recaudar. La recaudación de fondos es una forma vital de maximizar el impacto de nuestro proyecto para las organizaciones benéficas que apoyamos, pero el compromiso es el único requisito. La fuerza del evento está en la unión de todos. Dado que la ruta se desarrolla por carreteras públicas, es posible unirse al grupo durante una parte del trayecto.</p>
                        <br>
                        <p>Además, toda ayuda es bienvenida. Contribuir con la comunicación del proyecto es una forma de apoyo igualmente esencial para nuestra misión colectiva de llevar esperanza a los niños enfermos y a sus familias.</p>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">¿Cuál es el nivel físico y técnico requerido para el desafío?</button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        <p>El recorrido es exigente y está dirigido a ciclistas experimentados, capaces de encadenar varios días de pedaleo en largas distancias. Además de la resistencia, se espera una autonomía técnica.</p>
                        <br>
                        <p>Los participantes deben ser capaces de realizar reparaciones básicas (ej: pinchazo, ajuste menor). Un vehículo de asistencia seguirá al grupo por seguridad y para emergencias logísticas, pero no constituye un equipo de mecánicos dedicado.</p>
                    </div>
                </div>
            </div>
            
            <div class="faq-item">
                <button class="faq-question">¿Es posible participar solo en una parte del recorrido?</button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        <p>Sí, es totalmente posible unirse a nosotros para una o varias etapas, según tu disponibilidad. Esta flexibilidad permite que el mayor número de personas contribuya a la aventura. Te invitamos a contactarnos a través del formulario "Involúcrate" indicando las fechas o los segmentos del recorrido que te interesan.</p>
                    </div>
                </div>
            </div>

            <div class="faq-item">
                <button class="faq-question">Nuestra empresa desea convertirse en socio. ¿Cuáles son las opciones?</button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        <p>Estaremos encantados de colaborar con tu empresa. Ofrecemos varios niveles de patrocinio (material, financiero, logístico) con diferentes contraprestaciones en términos de visibilidad (logo en los maillots, el vehículo, el sitio web, comunicación dedicada en redes sociales, etc.) a cambio de un donativo financiero a las asociaciones apoyadas.</p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
    </main>

    <footer id="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about"><h3>We Ride For Smiles</h3><p>Un movimiento benéfico internacional que utiliza el poder del ciclismo para llevar esperanza a los niños enfermos y sus familias.</p></div>
                <div class="footer-newsletter">
                    <h4>No te pierdas nada de lo que viene</h4>
                    <p style="font-size: 0.9rem; color: var(--color-text-secondary); margin-bottom: 1.5rem;">Recibe nuestras noticias, directamente en tu bandeja de entrada.</p>
                    <form name="newsletter-es" method="POST" data-netlify="true">
                        <input type="hidden" name="form-name" value="newsletter-es" />
                        <div class="input-group">
                           <input type="email" name="email" placeholder="Tu email" required>
                           <button type="submit" class="btn btn-primary form-submit-btn">
                               <span class="btn-text">Suscribirse</span>
                               <span class="btn-loader"></span>
                           </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <span class="footer-links"><a href="privacy.html">Privacidad</a> &middot; <a href="terms.html">Términos</a></span>
                <div class="footer-socials">
                    <a href="https://www.youtube.com/@werideforsmiles" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    <a href="https://www.instagram.com/werideforsmiles/" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.strava.com/clubs/werideforsmiles" target="_blank" aria-label="Strava"><i class="fab fa-strava"></i></a>
                </div>
                <p>&copy; <span id="copyright-year"></span> We Ride For Smiles</p>
            </div>
        </div>
    </footer>

    <div class="modal-overlay" id="team-modal-ben">
        <div class="modal-content team-modal-content">
            <button class="modal-close" data-modal-close>&times;</button>
            <div class="team-modal-grid">
                <div class="team-modal-image">
                    <img loading="lazy" src="../assets/ben-morin.webp" alt="Retrato de Ben Morin">
                </div>
                <div class="team-modal-details">
                    <h3>Ben Morin</h3>
                    <span class="team-modal-role">Iniciador del proyecto</span>
                    <p>Apasionado del ciclismo desde siempre, quise darle un sentido más profundo a mis kilómetros. We Ride For Smiles nació de una convicción: la energía de un desafío deportivo puede transformarse en una ola de esperanza.</p>
                    <p>Este proyecto es un homenaje personal, una promesa de transformar el sudor en sonrisas y de mostrar a las familias afectadas por la enfermedad que no están solas. Cada pedalada es para ellas.</p>
                    <div class="team-modal-socials">
                        <a href="#" target="_blank" aria-label="Sitio web"><i class="fa-solid fa-cloud"></i></a>
                        <a href="https://www.youtube.com/benmorinbm" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="https://www.instagram.com/benmorinbm" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.strava.com/athletes/benmorin" target="_blank" aria-label="Strava"><i class="fab fa-strava"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="involve-modal">
        <div class="modal-content">
            <button class="modal-close" data-modal-close>&times;</button>
            <div class="modal-header">
                <h3>¡Conviértete en un motor de esta aventura!</h3>
                <p class="modal-intro">Cada ayuda, grande o pequeña, en el terreno o a distancia, es una pedalada más por los niños. Descubre cómo puedes marcar la diferencia.</p>
            </div>
            <form name="get-involved-es-improved" method="POST" data-netlify="true">
                <input type="hidden" name="form-name" value="get-involved-es-improved" />
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstname">Nombre</label>
                        <input type="text" id="firstname" name="firstname" placeholder="Ej: Juan" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="Ej: juan.perez@email.com" required>
                    </div>
                </div>

                <div class="form-group" style="margin-top: 2.5rem;">
                    <label>¿Cómo te gustaría apoyarnos?</label>
                    <div class="involvement-options">
                        <div class="option-card">
                            <input type="checkbox" name="involvement_ride" value="ride" id="role-ride">
                            <label for="role-ride" class="option-label">
                                <div class="option-label-header">
                                    <i class="fa-solid fa-bicycle"></i>
                                    <strong>Pedalear</strong>
                                </div>
                                <span>Participar en el desafío.</span>
                            </label>
                        </div>
                        <div class="option-card">
                            <input type="checkbox" name="involvement_event_volunteer" value="event_volunteer" id="role-event">
                            <label for="role-event" class="option-label">
                                <div class="option-label-header">
                                    <i class="fa-solid fa-flag-checkered"></i>
                                    <strong>Voluntario/a</strong>
                                </div>
                                <span>Ayudar en el terreno.</span>
                            </label>
                        </div>
                        <div class="option-card">
                            <input type="checkbox" name="involvement_partner" value="partner" id="role-partner">
                            <label for="role-partner" class="option-label">
                                <div class="option-label-header">
                                    <i class="fa-solid fa-handshake"></i>
                                    <strong>Ser socio</strong>
                                </div>
                                <span>Asociar tu empresa.</span>
                            </label>
                        </div>
                        <div class="option-card">
                            <input type="checkbox" name="involvement_donation" value="donation" id="role-donation">
                            <label for="role-donation" class="option-label">
                                <div class="option-label-header">
                                    <i class="fa-solid fa-hand-holding-dollar"></i>
                                    <strong>Hacer un donativo</strong>
                                </div>
                                <span>Apoyar financieramente.</span>
                            </label>
                        </div>
                        <div class="option-card">
                            <input type="checkbox" name="involvement_remote_volunteer" value="remote_volunteer" id="role-remote">
                            <label for="role-remote" class="option-label">
                                <div class="option-label-header">
                                    <i class="fa-solid fa-laptop"></i>
                                    <strong>Ayuda a distancia</strong>
                                </div>
                                <span>Comunicación, etc.</span>
                            </label>
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary form-submit-btn" style="width: 100%; margin-top: 1rem;">
                    <span class="btn-text">Enviar mi propuesta</span>
                    <span class="btn-loader"></span>
                </button>
            </form>
        </div>
    </div>

    <div class="modal-overlay" id="newsletter-modal">
        <div class="modal-content">
            <button class="modal-close" data-modal-close>&times;</button>
            <div class="modal-header">
                <i class="fa-solid fa-envelope-open-text icon-header"></i>
                <h3>¡No te pierdas nada de la aventura!</h3>
                <p class="modal-intro">Únete a nuestra comunidad y recibe las noticias clave del desafío, directamente en tu bandeja de entrada.</p>
            </div>
            <form name="newsletter-popup-es-rgpd" method="POST" data-netlify="true">
                <input type="hidden" name="form-name" value="newsletter-popup-es-rgpd" />
                <div class="input-group">
                   <input type="email" name="email" placeholder="Tu mejor email" required>
                   <button type="submit" class="btn btn-primary form-submit-btn">
                       <span class="btn-text">Me suscribo</span>
                       <span class="btn-loader"></span>
                   </button>
                </div>
                <label class="custom-checkbox-container">
                    <input type="checkbox" name="consent" id="consent-modal" required>
                    <span class="checkbox-label">
                        Acepto recibir noticias del proyecto. (<a href="privacy.html" target="_blank">Política de privacidad</a>)
                    </span>
                </label>
            </form>
        </div>
    </div>

    <div class="charity-slider-widget">
        <h4>Asociaciones apoyadas</h4>
        <div class="widget-controls">
            <button id="widget-toggle-size" aria-label="Expandir widget">
                <i class="fa-solid fa-expand"></i>
            </button>
            <button id="widget-close" aria-label="Minimizar widget">
                <i class="fa-solid fa-xmark"></i>
            </button>
        </div>
        <div class="slider-content"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const copyrightYearEl = document.getElementById('copyright-year');
            if (copyrightYearEl) copyrightYearEl.textContent = new Date().getFullYear();
            const preloader = document.querySelector('.preloader');
            
            window.addEventListener('load', () => {
                setTimeout(() => preloader?.classList.add('start-animation'), 100);
                setTimeout(() => preloader?.classList.add('disappear-up'), 1100);
                setTimeout(() => preloader?.classList.add('fade-out'), 1500);
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in-up').forEach(el => observer.observe(el));
            
            const navbar = document.querySelector('.navbar');
            window.addEventListener('scroll', () => navbar?.classList.toggle('scrolled', window.scrollY > 50));

            const navToggle = document.getElementById('nav-toggle');
            const mobileNav = document.getElementById('nav-mobile-overlay');
            const navClose = document.getElementById('nav-mobile-close');
            const body = document.body;

            if (navToggle && mobileNav && navClose) {
                const openMobileNav = () => { mobileNav.classList.add('is-active'); body.classList.add('mobile-nav-open'); };
                const closeMobileNav = () => { mobileNav.classList.remove('is-active'); body.classList.remove('mobile-nav-open'); };
                navToggle.addEventListener('click', (e) => { e.stopPropagation(); openMobileNav(); });
                navClose.addEventListener('click', closeMobileNav);
                mobileNav.querySelectorAll('a, button').forEach(link => {
                    link.addEventListener('click', (e) => { if (!e.currentTarget.dataset.modalTrigger) closeMobileNav(); });
                });
            }

            const targetDate = new Date('June 15, 2026 09:00:00').getTime();
            const timerInterval = setInterval(() => {
                const now = new Date().getTime();
                const distance = targetDate - now;
                const daysEl = document.getElementById('days');
                if (distance < 0) { clearInterval(timerInterval); return; }
                if(daysEl) {
                    daysEl.innerText = Math.floor(distance / 864e5).toString().padStart(2, '0');
                    document.getElementById('hours').innerText = Math.floor((distance % 864e5) / 36e5).toString().padStart(2, '0');
                    document.getElementById('minutes').innerText = Math.floor((distance % 36e5) / 6e4).toString().padStart(2, '0');
                    document.getElementById('seconds').innerText = Math.floor((distance % 6e4) / 1000).toString().padStart(2, '0');
                }
            }, 1000);

            const modalTriggers = document.querySelectorAll('[data-modal-trigger]');
            const modals = document.querySelectorAll('.modal-overlay');
            const openModal = (modalId) => {
                const modal = document.getElementById(modalId);
                if (modal) { modal.classList.add('is-active'); body.classList.add('modal-open'); }
            };
            const closeModal = (modal) => {
                modal.classList.remove('is-active');
                body.classList.remove('modal-open');
            };
            modalTriggers.forEach(trigger => trigger.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); openModal(trigger.dataset.modalTrigger); }));
            modals.forEach(modal => {
                modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(modal); });
                modal.querySelector('[data-modal-close]')?.addEventListener('click', () => closeModal(modal));
            });

            let newsletterModalShown = false;
            window.addEventListener('scroll', () => {
                if (window.scrollY > 2000 && !newsletterModalShown && !localStorage.getItem('newsletterModalSeen')) {
                    openModal('newsletter-modal');
                    newsletterModalShown = true;
                    localStorage.setItem('newsletterModalSeen', 'true');
                }
            });
            const statsSection = document.querySelector('#stats');
            if(statsSection){
                new IntersectionObserver((entries, obs) => {
                    if (entries[0].isIntersecting) {
                        document.querySelectorAll('.stat-number').forEach(counter => {
                            const target = +counter.getAttribute('data-target'); let count = 0;
                            const updateCount = () => {
                                const increment = Math.max(1, Math.ceil(target / 100));
                                if (count < target) { count = Math.min(count + increment, target); counter.innerText = count; requestAnimationFrame(updateCount); }
                            };
                            updateCount();
                        });
                        obs.unobserve(statsSection);
                    }
                }, { threshold: 0.5 }).observe(statsSection);
            }
            
            const valuesContainer = document.querySelector('.values-container');
            const valueSteps = document.querySelectorAll('.value-step');
            const nextValueBtn = document.querySelector('.value-next-btn');
            if (valuesContainer && valueSteps.length > 0 && nextValueBtn) {
                const valueTitles = Array.from(valueSteps).map(step => step.querySelector('.value-title').textContent);
                let activeIndex = 0;

                const handleScroll = () => {
                    const containerRect = valuesContainer.getBoundingClientRect();
                    if (containerRect.bottom < 0 || containerRect.top > window.innerHeight) return;

                    const scrollableHeight = valuesContainer.scrollHeight - window.innerHeight;
                    const progress = -containerRect.top / scrollableHeight;
                    const clampedProgress = Math.max(0, Math.min(1, progress));
                    const newActiveIndex = Math.floor(clampedProgress * valueSteps.length);
                    activeIndex = Math.min(newActiveIndex, valueSteps.length - 1);

                    valueSteps.forEach((step, index) => step.classList.toggle('is-active', index === activeIndex));

                    if (activeIndex < valueSteps.length - 1) {
                        nextValueBtn.querySelector('span').textContent = valueTitles[activeIndex + 1];
                        nextValueBtn.classList.add('is-visible');
                    } else {
                        nextValueBtn.classList.remove('is-visible');
                    }
                };
                
                nextValueBtn.addEventListener('click', () => {
                    if (activeIndex < valueSteps.length - 1) {
                        const nextIndex = activeIndex + 1;
                        const scrollableHeight = valuesContainer.scrollHeight - window.innerHeight;
                        const targetScrollTop = valuesContainer.offsetTop + (scrollableHeight * (nextIndex / valueSteps.length));
                        window.scrollTo({
                            top: targetScrollTop,
                            behavior: 'smooth'
                        });
                    }
                });

                new IntersectionObserver((entries) => {
                    if (entries[0].isIntersecting) window.addEventListener('scroll', handleScroll, { passive: true });
                    else window.removeEventListener('scroll', handleScroll);
                }).observe(valuesContainer);
            }

            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', () => {
                    const answer = question.nextElementSibling; const isOpen = question.classList.contains('active');
                    document.querySelectorAll('.faq-question.active').forEach(q => {
                        q.classList.remove('active'); q.nextElementSibling.style.height = '0px';
                    });
                    if (!isOpen) { question.classList.add('active'); answer.style.height = answer.scrollHeight + 'px'; }
                });
            });

            document.querySelectorAll('form[data-netlify="true"]').forEach(form => {
                form.addEventListener('submit', (e) => {
                    const submitBtn = form.querySelector('.form-submit-btn');
                    if (submitBtn) { submitBtn.classList.add('loading'); submitBtn.disabled = true; }
                });
            });

            const themeToggle = document.getElementById('theme-toggle');
            const htmlEl = document.documentElement;
            const sunIconSVG = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>`;
            const moonIconSVG = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>`;
            const setTheme = (theme) => {
                htmlEl.className = theme + '-mode';
                localStorage.setItem('theme', theme);
                if (themeToggle) themeToggle.innerHTML = theme === 'dark' ? sunIconSVG : moonIconSVG;
            };
            setTheme(localStorage.getItem('theme') || 'dark');
            themeToggle?.addEventListener('click', () => setTheme(htmlEl.classList.contains('dark-mode') ? 'light' : 'dark'));
            
            const sliderContainer = document.querySelector('.charity-slider-widget .slider-content');
            if (sliderContainer) {
                const charities = [
                    { name: 'Great Ormond Street Hospital', logo: '../assets/gosh-logo.svg', url: 'https://www.gosh.org' },
                    { name: 'Gustave Roussy', logo: '../assets/gustave-roussy-logo.webp', url: 'https://www.gustaveroussy.fr' },
                    { name: 'Sourire à la Vie', logo: '../assets/sourirealavie-logo.svg', url: 'https://www.sourirealavie.fr' },
                    { name: 'Teenage Cancer Trust', logo: '../assets/tct-logo.svg', url: 'https://www.teenagecancertrust.org' }
                ];
                charities.forEach((charity, index) => {
                    const slide = document.createElement('a');
                    slide.href = charity.url;
                    slide.target = '_blank';
                    slide.className = `slide-item ${index === 0 ? 'active' : ''}`;
                    slide.innerHTML = `<img loading="lazy" src="${charity.logo}" alt="${charity.name}">`;
                    sliderContainer.appendChild(slide);
                });
                let currentSlide = 0;
                const slides = document.querySelectorAll('.charity-slider-widget .slide-item');
                if (slides.length > 1) {
                    setInterval(() => {
                        slides[currentSlide].classList.remove('active');
                        currentSlide = (currentSlide + 1) % slides.length;
                        slides[currentSlide].classList.add('active');
                    }, 4000);
                }
            }

            const sliderWidget = document.querySelector('.charity-slider-widget');
            const footer = document.getElementById('footer');

            // AJOUT : Sélection des boutons du widget
            const widgetToggleBtn = document.getElementById('widget-toggle-size');
            const widgetCloseBtn = document.getElementById('widget-close');
            const widgetToggleIcon = widgetToggleBtn?.querySelector('i');

            if (sliderWidget && widgetToggleBtn && widgetCloseBtn && widgetToggleIcon) {

                // AJOUT : Fonction dédiée pour mettre à jour l'icône
                const updateWidgetIcon = () => {
                    if (sliderWidget.classList.contains('scrolled')) {
                        widgetToggleIcon.className = 'fa-solid fa-up-right-and-down-left-from-center';
                        widgetToggleBtn.setAttribute('aria-label', 'Expandir widget');
                    } else {
                        widgetToggleIcon.className = 'fa-solid fa-down-left-and-up-right-to-center';
                        widgetToggleBtn.setAttribute('aria-label', 'Minimizar widget');
                    }
                };
                
                // MODIFIÉ : handleWidgetSize met maintenant aussi à jour l'icône
                const handleWidgetSize = () => {
                    if (window.scrollY > 0) {
                        sliderWidget.classList.add('scrolled');
                    } else {
                        sliderWidget.classList.remove('scrolled');
                    }
                    updateWidgetIcon(); // On appelle la fonction de mise à jour
                };
                
                window.addEventListener('scroll', handleWidgetSize, { passive: true });
                
                // MODIFIÉ : Le clic bascule l'état et met à jour l'icône
                widgetToggleBtn.addEventListener('click', () => {
                    sliderWidget.classList.toggle('scrolled');
                    updateWidgetIcon();
                });

                // MODIFIÉ : La fermeture arrête l'animation et cache le widget
                widgetCloseBtn.addEventListener('click', () => {
                    sliderWidget.style.display = 'none'; // Cache proprement le widget
                    if (charitySliderInterval) {
                        clearInterval(charitySliderInterval); // C'est LA clé : on arrête le défilement des logos.
                    }
                });

                // AJOUT : On initialise la bonne icône au chargement de la page
                updateWidgetIcon();
            }

            if (sliderWidget && footer) {
                const handleSliderPosition = () => {
                    const footerRect = footer.getBoundingClientRect();
                    const viewportHeight = window.innerHeight;
                    const baseOffset = 24;

                    if (footerRect.top < viewportHeight) {
                        sliderWidget.style.bottom = `${viewportHeight - footerRect.top + baseOffset}px`;
                    } else {
                        sliderWidget.style.bottom = `${baseOffset}px`;
                    }
                };
                
                const footerObserver = new IntersectionObserver((entries) => {
                    if (entries[0].isIntersecting) {
                        window.addEventListener('scroll', handleSliderPosition, { passive: true });
                    } else {
                        window.removeEventListener('scroll', handleSliderPosition);
                        sliderWidget.style.bottom = '1.5rem';
                    }
                });
                footerObserver.observe(footer);
            }
            const navControls = document.getElementById('nav-controls');
            window.addEventListener('scroll', () => {
                if (window.innerWidth <= 991) {
                    if (window.scrollY > 100) {
                        navControls.classList.add('scrolled-mobile');
                    } else {
                        navControls.classList.remove('scrolled-mobile');
                    }
                }
            });
        });
    </script>
</body>
</html>